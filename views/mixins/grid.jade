include ./tag.jade
//- Each item represents a single medical image
//- And should be in the following format: 
//- {Id: W, Title: X, ImageUrl: Y, Tags: Z }

block head
  script(type="text/javascript", src="/javascripts/mixins/gridController.js")

mixin grid(id)
  div(id=id, data-ng-controller="gridController")
    div(ng-init="user=#{JSON.stringify(session.user.username)}")
    div(ng-repeat="image in viewModel.images track by $index")
      div.gridItem(id='{{image._id}}')
        div.image
          p(ng-bind='image.image_url')
        div.title
          p(ng-bind='image.title')
        div.tags
          div(ng-repeat="tag in image.tags")
            +tag('{{tag}}')

    button(id="testGridButton") getUserImages
